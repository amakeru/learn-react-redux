{"version":3,"sources":["components/common/Forms/Controls.jsx","utils/validators/validators.js","components/common/Forms/Form.module.scss","components/Login/Login.module.scss","components/Login/index.jsx","components/Login/container.js"],"names":["FormControl","props","name","input","label","meta","touched","submitFailed","error","children","hasError","controlClass","s","Row","FieldError","className","htmlFor","Label","Error","Input","type","placeholder","Textarea","Checkbox","CheckboxLabel","max","requiredField","value","undefined","maxLength50","length","minLength","min","minLength3","email","test","password","module","exports","LoginFormRedux","reduxForm","form","handleSubmit","captcha","onSubmit","Field","component","validate","src","alt","Button","message","Icon","icon","ErrorIcon","connect","authData","authLogin","authLogout","isAuth","to","LoginPage","Wrapper","formData","Login"],"mappings":"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","file":"static/js/6.3a9fc155.chunk.js","sourcesContent":["import React from 'react'\nimport s from './Form.module.scss';\nimport {Field} from \"redux-form\";\n\nconst FormControl = props => {\n    const {input: { name }, label, meta: { touched, submitFailed, error }, children} = props;\n    const hasError = (touched || submitFailed) && error;\n    const controlClass = s.Row + (hasError ? ' ' + s.FieldError: '');\n\n    return <div className={controlClass}>\n        {label && <label htmlFor={name} className={s.Label}>{label}</label>}\n        {children}\n        {hasError && <span className={s.Error}>* {error}</span>}\n    </div>\n};\n\nconst Input = props => {\n    return (\n        <FormControl {...props}>\n            <input type={props.type} {...props.input} className={s.Input} placeholder={props.placeholder}/>\n        </FormControl>\n    )\n};\n\nconst Textarea = (props) => {\n    return (\n        <FormControl {...props}>\n            <textarea {...props.input} className={s.Textarea} placeholder={props.placeholder}/>\n        </FormControl>\n    )\n};\n\nconst Checkbox = (props) => {\n    const {input, type, label} = props;\n\n    return (\n        <div className={s.Row}>\n            <label className={s.CheckboxLabel}>\n                <input type={type} {...input} className={s.Checkbox}/>\n                {label}\n            </label>\n        </div>\n    )\n};\n\nexport const CreateField = props => {\n    return <Field {...props} key={props.name}/>\n};\n\nexport { Textarea, Input, Checkbox }\n","export const requiredField = value => (value ? undefined : 'Поле обязательно');\n\nexport const maxLength = max => value => value && value.length > max\n    ? `Должен содержать максимум ${max} символа`\n    : undefined;\nexport const maxLength50 = maxLength(50);\n\nexport const minLength = min => value => value && value.length < min\n    ? `Должен содержать минимум ${min} символа`\n    : undefined;\nexport const minLength3 = minLength(3);\nexport const minLength6 = minLength(6);\n\nexport const email = value => value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)\n    ? 'Это точно email?'\n    : undefined;\n\n// export const password = value => value && !/(?=^.{6,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$/i.test(value)\n//     ? `Латинские буквы, цифры, спецсимволы. Минимум 6 символов`\n//     : undefined;\nexport const password = value => value && !/(?=^.{4,})(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$/i.test(value)\n    ? `Латинские буквы, цифры, спецсимволы. Минимум 4 символов`\n    : undefined;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"Form_Row__2oYlh\",\"TextRight\":\"Form_TextRight__1aYek\",\"Label\":\"Form_Label__1n8s5\",\"Checkbox\":\"Form_Checkbox__2rzQp\",\"CheckboxLabel\":\"Form_CheckboxLabel__2ReLz\",\"Input\":\"Form_Input__D1cIa\",\"Textarea\":\"Form_Textarea__1Yb_c\",\"Button\":\"Form_Button__3k13j\",\"Error\":\"Form_Error__2X0p1\",\"ErrorIcon\":\"Form_ErrorIcon__1HaF4\",\"FieldError\":\"Form_FieldError__3jp6W\",\"Warning\":\"Form_Warning__SEdJh\",\"FieldWarning\":\"Form_FieldWarning__2ltRJ\",\"Hidden\":\"Form_Hidden__I3QSV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoginPage\":\"Login_LoginPage__2ZsBw\",\"Wrapper\":\"Login_Wrapper__1Wqhl\",\"Row\":\"Login_Row__20ewg\",\"Label\":\"Login_Label__hghxV\",\"CheckboxLabel\":\"Login_CheckboxLabel__3tNCZ\",\"Input\":\"Login_Input__2668F\",\"Button\":\"Login_Button__1Xs0D\",\"Error\":\"Login_Error__YTs3Q\",\"ErrorIcon\":\"Login_ErrorIcon__RiWjS\"};","import React from 'react';\nimport s from './Login.module.scss'\nimport { Field, reduxForm } from 'redux-form';\nimport {Input, Checkbox} from '../common/Forms/Controls';\nimport {email, password, requiredField} from \"../../utils/validators/validators\";\nimport {Redirect} from \"react-router-dom\";\nimport Icon from '../common/Icon'\n\nexport default ({isAuth, authLogin, captcha}) => {\n    const handleSubmitLogin = formData => authLogin(formData);\n\n    return isAuth\n        ? <Redirect to={'/profile'}/>\n        : (\n            <div className={s.LoginPage}>\n                <div className={s.Wrapper}>\n                    <h1>Вход</h1>\n                    <LoginFormRedux onSubmit={handleSubmitLogin} captcha={captcha}/>\n                </div>\n            </div>\n        );\n}\n\nconst LoginForm = props => {\n    const { handleSubmit, captcha } = props;\n    // console.log(props);\n    return (\n        <form onSubmit={handleSubmit}>\n            <Field\n                type=\"email\"\n                name=\"email\"\n                label={'Email'}\n                placeholder={'Email'}\n                component={Input}\n                validate={[email, requiredField]}\n            />\n            <Field\n                type=\"password\"\n                name=\"password\"\n                label={'Пароль'}\n                placeholder={'Пароль'}\n                component={Input}\n                validate={[requiredField, password]}\n            />\n\n            {captcha && <>\n                <img src={captcha} alt={''}/>\n                <Field\n                    name=\"captcha\"\n                    label={'Введите код с картинки'}\n                    placeholder={'капча'}\n                    component={Input}\n                    validate={[requiredField]}\n                />\n            </>\n            }\n\n            <Field\n                type=\"checkbox\"\n                component={Checkbox}\n                name=\"rememberMe\"\n                label={'Remember me'}\n            />\n\n            <div className={s.Row}>\n                <button className={s.Button} type=\"submit\">Login</button>\n                {props.error && props.error.message && <>\n                        <span className={s.Error}>{props.error.message}</span>\n                        <Icon icon={'alert'} className={s.ErrorIcon}/>\n                    </>\n                }\n            </div>\n        </form>\n    )\n};\nconst LoginFormRedux = reduxForm({\n    form: 'login'\n})(LoginForm);\n","import {connect} from \"react-redux\";\nimport { authLogin, authLogout } from '../../redux/authReducer';\nimport Login from './index'\n\nconst LoginContainer = props => Login(props);\n\nexport default connect(s => s.authData, {authLogin, authLogout})(LoginContainer)\n\n"],"sourceRoot":""}