(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[4],{225:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}a.d(t,"a",(function(){return n}))},227:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u}));var n=a(0),r=a.n(n),o=a(230),c=a.n(o),l=(a(108),function(e){var t=e.input.name,a=e.label,n=e.meta,o=n.touched,l=n.error,i=e.children,s=o&&l,u=c.a.Row+(s?" "+c.a.FieldError:"");return r.a.createElement("div",{className:u},a&&r.a.createElement("label",{htmlFor:t,className:c.a.Label},a),i,s&&r.a.createElement("span",{className:c.a.Error},"* ",l))}),i=function(e){return r.a.createElement(l,e,r.a.createElement("input",Object.assign({type:e.type},e.input,{className:c.a.Input,placeholder:e.placeholder})))},s=function(e){return r.a.createElement(l,e,r.a.createElement("textarea",Object.assign({},e.input,{className:c.a.Textarea,placeholder:e.placeholder})))},u=function(e){var t=e.input,a=e.type,n=e.label;return r.a.createElement("div",{className:c.a.Row},r.a.createElement("label",{className:c.a.CheckboxLabel},r.a.createElement("input",Object.assign({type:a},t,{className:c.a.Checkbox})),n))}},228:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return s}));var n,r=function(e){return e?void 0:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"},o=(n=50,function(e){return e&&e.length>n?"\u0414\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(n," \u0441\u0438\u043c\u0432\u043e\u043b\u0430"):void 0}),c=function(e){return function(t){return t&&t.length<e?"\u0414\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u0430"):void 0}},l=c(3),i=(c(6),function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"\u042d\u0442\u043e \u0442\u043e\u0447\u043d\u043e email?":void 0}),s=function(e){return e&&!/(?=^.{6,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/i.test(e)?"\u041b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b. \u041c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":void 0}},230:function(e,t,a){e.exports={Row:"Form_Row__2oYlh",TextRight:"Form_TextRight__1aYek",Label:"Form_Label__1n8s5",Checkbox:"Form_Checkbox__2rzQp",CheckboxLabel:"Form_CheckboxLabel__2ReLz",Input:"Form_Input__D1cIa",Textarea:"Form_Textarea__1Yb_c",Button:"Form_Button__3k13j",Error:"Form_Error__2X0p1",FieldError:"Form_FieldError__3jp6W",Warning:"Form_Warning__SEdJh",FieldWarning:"Form_FieldWarning__2ltRJ",Hidden:"Form_Hidden__I3QSV"}},248:function(e,t,a){e.exports={wrapper:"ProfileInfo_wrapper__338Z9",cover:"ProfileInfo_cover__24oLn",user:"ProfileInfo_user__1HfPM",avaWrapper:"ProfileInfo_avaWrapper__3X_X-",ava:"ProfileInfo_ava__iZrAB",name:"ProfileInfo_name__BDBmC",contacts:"ProfileInfo_contacts__3XFcv",desc:"ProfileInfo_desc__3lf12"}},291:function(e,t,a){e.exports={posts:"MyPosts_posts__1P0sL",new:"MyPosts_new__1nTxl"}},292:function(e,t,a){e.exports={item:"Post_item__2yzXq",picWrapper:"Post_picWrapper__2KJ9x",pic:"Post_pic__XwlqK",ContentWrapper:"Post_ContentWrapper__3fEgv",title:"Post_title__1oTQp"}},293:function(e,t,a){e.exports=a.p+"static/media/empty-avatar.4b508f06.jpg"},294:function(e,t,a){e.exports={Status:"Status_Status__g0HTz",active:"Status_active__B2-6N",Text:"Status_Text__oAMO0",Pencil:"Status_Pencil__3XoF8",Form:"Status_Form__cRhXO",Input:"Status_Input__3P0Y7"}},295:function(e,t,a){e.exports={EditData:"EditData_EditData__228Gv",ShowIcon:"EditData_ShowIcon__2Jdan",CloseIcon:"EditData_CloseIcon__7UX2O",Collapse:"EditData_Collapse__3V37q",Collapsable:"EditData_Collapsable__3G67f",open:"EditData_open__2U7GN",CollapseIcon:"EditData_CollapseIcon__18Dk6",FormTitle:"EditData_FormTitle__1t4oI"}},306:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a(13),l=a(78),i=function(e){return e.profilePageData.profile},s=function(e){return e.profilePageData.status},u=Object(l.a)([function(e){return{profile:i(e),status:s(e),myId:e.authData.id}}],(function(e){return e})),m=Object(l.a)([function(e){return e.profilePageData.posts}],(function(e){return e})),p=a(55),f=a(291),d=a.n(f),_=a(292),b=a.n(_),E=a(108),v=a(109),h=a(31),N=a(228),g=a(227),P=Object(v.a)({form:"new-post-form",onSubmitSuccess:function(e,t){return t(Object(h.a)("new-post-form"))}})((function(e){var t=e.handleSubmit,a=e.invalid;return r.a.createElement("form",{onSubmit:t,className:"Form"},r.a.createElement(E.a,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",component:g.b,name:"title",validate:[N.e,N.b,N.c]}),r.a.createElement(E.a,{component:g.c,name:"content",validate:[N.e,N.c],label:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430"}),r.a.createElement("div",{className:"Form_Row Form_Row__TextRight"},r.a.createElement("button",{type:"submit",className:"Form_Button",disabled:a},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))})),I=Object(c.d)(Object(o.b)((function(e){return{posts:m(e)}}),{addPost:p.a}))((function(e){var t=e.posts,a=e.addPost;return r.a.createElement("div",{key:"MyPosts"},r.a.createElement("h3",null,"Add new post"),r.a.createElement("div",{className:d.a.new},r.a.createElement(P,{onSubmit:function(e){return a(e)}})),r.a.createElement("h3",null,"My Posts"),r.a.createElement("div",{className:d.a.posts},t.map((function(e){return function(e){var t=e.id,a=e.title,n=e.content,o=e.likesCount;return r.a.createElement("div",{className:b.a.item,key:t},r.a.createElement("div",{className:b.a.picWrapper},r.a.createElement("img",{className:b.a.pic,src:"https://i.pinimg.com/736x/62/8f/49/628f49798bba23a996bbb0fe8aad174e--avatar-james-cameron-avatar-fan-art.jpg",width:"100",alt:""}),r.a.createElement("span",null,o," likes")),r.a.createElement("div",{className:b.a.ContentWrapper},r.a.createElement("div",{className:b.a.title},a),r.a.createElement("div",{className:b.a.text},n)))}(e)}))))})),j=a(225),y=a(3),O=a(248),F=a.n(O),S=a(293),C=a.n(S),x=a(60),k=a(294),w=a.n(k),D=a(53),T=function(e){var t=e.myId,a=e.profileId,o=e.status,c=e.updateProfileStatus,l=Object(n.useState)(o),i=Object(x.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),p=Object(x.a)(m,2),f=p[0],d=p[1],_=Object(n.useState)(!1),b=Object(x.a)(_,2),E=b[0],v=b[1];Object(n.useEffect)((function(){u(o)}),[o]);var h=Number(t)===Number(a);return r.a.createElement("div",{className:w.a.Status+(f?" "+w.a.active:""),onClick:function(){h&&d(!0)},onMouseLeave:function(){h&&v(!1)},onMouseEnter:function(){h&&v(!0)}},E&&r.a.createElement(D.a,{icon:"pencil",className:w.a.Pencil}),f?r.a.createElement("div",{className:w.a.Form},r.a.createElement("input",{className:w.a.Input,type:"text",value:s,onChange:function(e){return u(e.target.value)},onBlur:function(){h&&(d(!1),s!==o&&c(s))},autoFocus:!0})):r.a.createElement("div",{className:w.a.Text},s))},R=function(e){var t=e.contacts,a=[];return Object.keys(t).forEach((function(e){t[e]&&a.push(r.a.createElement("div",{key:e},r.a.createElement("b",null,e),": ",r.a.createElement("a",{href:t[e]},t[e].replace(/(https?:\/\/)|(\/)/g,""))))})),a.length?r.a.createElement("div",{className:F.a.contacts},r.a.createElement("div",null,r.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),":"),a):null};var W=Object(v.a)({form:"upload-photo-form"})((function(e){var t=e.onSubmit;return r.a.createElement("form",{className:"Form"},r.a.createElement("span",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435"),r.a.createElement("input",{type:"file",name:"photo",accept:".jpg, .png, .jpeg",onChange:function(e){e.preventDefault();var a=new FormData;a.append("image",e.target.files[0]),t(a)}}))})),L=function(e){var t=e.myId,a=e.profileId,n=e.uploadProfilePhoto;return Number(t)===Number(a)&&r.a.createElement(W,{onSubmit:function(e){return n(e)}})},A=a(295),M=a.n(A),B=a(43),X=function(e){var t=e.myId,a=e.profile,o=e.updateProfileData;if(Number(t)!==Number(a.userId))return null;var c=Object(n.useState)(!1),l=Object(x.a)(c,2),i=l[0],s=l[1],u=function(e){e.preventDefault(),s(!i)};return i?r.a.createElement("div",{className:M.a.EditData},r.a.createElement("span",{onClick:u},r.a.createElement(D.a,{icon:"close",className:M.a.CloseIcon})),r.a.createElement(J,{profile:a,onSubmit:function(e){return function(e){o(e),s(!1)}(e)}})):r.a.createElement("span",{onClick:u},r.a.createElement(D.a,{icon:"pencil",className:M.a.ShowIcon}))},J=Object(v.a)({form:"update-profile-form",onSubmitSuccess:function(e,t){return t(Object(h.a)("update-profile-form"))}})((function(e){var t=e.handleSubmit,a=e.invalid,n=e.profile;if(!n)return Object(B.a)({loading:!0});var o=n.contacts,c=[];return Object.keys(o).forEach((function(e){return c.push(r.a.createElement(E.a,{key:e,component:g.b,name:"contacts."+e,validate:[N.c],label:e}))})),r.a.createElement("form",{onSubmit:t,className:"Form"},r.a.createElement("h3",null,"\u041e\u0431\u043e \u043c\u043d\u0435"),r.a.createElement(E.a,{label:"\u0418\u043c\u044f",component:g.b,name:"fullName",validate:[N.e,N.c,N.b]}),r.a.createElement(E.a,{component:g.c,name:"aboutMe",validate:[N.e,N.c],label:"\u0422\u0435\u043a\u0441\u0442 \u043e\u0431\u043e \u043c\u043d\u0435"}),r.a.createElement("div",{className:M.a.Collapse},r.a.createElement("h3",{className:M.a.FormTitle,onClick:function(e){return e.currentTarget.classList.toggle(M.a.open)}},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",r.a.createElement(D.a,{className:M.a.CollapseIcon,icon:"arrow-right"})),r.a.createElement("div",{className:M.a.Collapsable},c)),r.a.createElement("div",{className:M.a.Collapse},r.a.createElement("h3",{className:M.a.FormTitle,onClick:function(e){return e.currentTarget.classList.toggle(M.a.open)}},"\u0420\u0430\u0431\u043e\u0442\u0430",r.a.createElement(D.a,{className:M.a.CollapseIcon,icon:"arrow-right"})),r.a.createElement("div",{className:M.a.Collapsable},r.a.createElement(E.a,{type:"checkbox",component:g.a,name:"lookingForAJob",label:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),r.a.createElement(E.a,{component:g.c,name:"lookingForAJobDescription",validate:[N.e,N.c],label:"\u0422\u0435\u043a\u0441\u0442 \u043e \u0440\u0430\u0431\u043e\u0442\u0435"}))),r.a.createElement("div",{className:"Form_Row Form_Row__TextRight"},r.a.createElement("button",{type:"submit",className:"Form_Button",disabled:a},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}));J=Object(o.b)((function(e){return{initialValues:Object(y.a)({},e.profilePageData.profile)}}))(J);var Z=a(17),z=Object(c.d)(Z.f,Object(o.b)((function(e){return Object(y.a)({},u(e))}),{getProfile:p.c,updateProfileStatus:p.e,uploadProfilePhoto:p.f,updateProfileData:p.d}))((function(e){var t=e.match.params.userId,a=e.myId,o=e.getProfile,c=e.history,l=Object(j.a)(e,["match","myId","getProfile","history"]);return Object(n.useEffect)((function(){var e=Number(t||a);e?o(e):c.push("/login")}),[t,a,o,c]),e.profile?function(e){var t=e.myId,a=e.status,n=e.updateProfileStatus,o=e.uploadProfilePhoto,c=e.updateProfileData,l=e.profile,i=l.userId,s=l.fullName,u=l.aboutMe,m=l.contacts,p=l.photos.large;return r.a.createElement("div",{className:F.a.wrapper,key:"ProfileInfo"},r.a.createElement("div",{className:F.a.user},r.a.createElement(T,{myId:t,profileId:i,status:a,updateProfileStatus:n}),r.a.createElement("div",{className:F.a.avaWrapper},r.a.createElement("img",{className:F.a.ava,src:p||C.a,alt:""}),r.a.createElement(L,{myId:t,profileId:i,uploadProfilePhoto:o})),r.a.createElement("div",{className:F.a.desc},r.a.createElement(X,{myId:t,profile:l,updateProfileData:c}),r.a.createElement("div",{className:F.a.name},s),r.a.createElement("div",{className:F.a.data},r.a.createElement("div",null,r.a.createElement("b",null,"About"),": ",u),r.a.createElement(R,{contacts:m})))))}(Object(y.a)({myId:a},l)):Object(B.a)({loading:!0})}));t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement(I,null))}}}]);
//# sourceMappingURL=4.b9a2c305.chunk.js.map