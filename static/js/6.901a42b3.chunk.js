(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[6],{227:function(e,a,t){"use strict";function n(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}t.d(a,"a",(function(){return n}))},251:function(e,a,t){e.exports={Users:"Users_Users__1nJFP",loading:"Users_loading__2jE4P",title:"Users_title__1fwbq",list:"Users_list__21Nyk",item:"Users_item__1ziiC",UserName:"Users_UserName__323M6",Status:"Users_Status__1c1pR",StatusIcon:"Users_StatusIcon__hSbYX",avaWrapper:"Users_avaWrapper__3L1JO",ava:"Users_ava__2c-Fm",avaLink:"Users_avaLink__291Xd",btn:"Users_btn__25K-5",follow:"Users_follow__2Mctc",unfollow:"Users_unfollow__2cRjK",hidden:"Users_hidden__21K5A",location:"Users_location__1oCXG"}},298:function(e,a,t){e.exports={Pagination:"Pagination_Pagination__8CEbk",Item:"Pagination_Item__2zlkl",Active:"Pagination_Active__1oeYC",Disabled:"Pagination_Disabled__1BEPN",Dots:"Pagination_Dots__j94gB"}},299:function(e,a,t){e.exports={Search:"Search_Search__20Gul",Field:"Search_Field__kwz8q",Active:"Search_Active__3jbr4",Btn:"Search_Btn__5ptno",Icon:"Search_Icon__2mYzI"}},310:function(e,a,t){"use strict";t.r(a);var n=t(2),s=t(227),r=t(0),c=t.n(r),l=t(251),i=t.n(l),o=t(11),u=t(54),m=t(79),_=t.n(m),f=t(4),b=t(298),d=t.n(b),h=function(e){for(var a,t=e.page,n=e.total,s=e.onClickHandler,r=Math.ceil(n/f.c),l=t-2,i=t+2+1,o=[],u=[],m=1;m<=r;m+=1)if(1===m||m===r||m>=l&&m<=i)o.push(m);else if(m<l)m=l-1;else if(m>i){o.push(r);break}return o.forEach((function(e){a&&(e-a===2?u.push(a+1):e-a!==1&&u.push("...")),u.push(e),a=e})),c.a.createElement("div",{className:d.a.Pagination},c.a.createElement("button",{key:"prev",className:1===t?d.a.Item+" "+d.a.Disabled:d.a.Item,disabled:1===t?"disabled":"",onClick:function(){return s(t-1)}},"<"),u.map((function(e,a){return isNaN(e)?c.a.createElement("div",{key:e+a,className:d.a.Dots},"..."):c.a.createElement("button",{key:e+a,className:e===t?d.a.Item+" "+d.a.Active:d.a.Item,disabled:e===t?"disabled":"",onClick:function(){return s(e)}},e)})),c.a.createElement("button",{key:"next",className:t===r?d.a.Item+" "+d.a.Disabled:d.a.Item,disabled:t===r?"disabled":"",onClick:function(){return s(t+1)}},">"))},p=t(44),g=t(56),v=t(299),E=t.n(v),O=function(e){var a=e.term,t=e.runSearch,n=Object(r.useState)(a),s=Object(g.a)(n,2),l=s[0],i=s[1],o=Object(r.useState)(""!==a),m=Object(g.a)(o,2),_=m[0],f=m[1];Object(r.useEffect)((function(){i(a),f(""!==a)}),[a]);return c.a.createElement("div",{className:E.a.Search},c.a.createElement("input",{type:"text",className:E.a.Field+(_?" "+E.a.Active:""),value:l,onChange:function(e){var a=e.target.value;i(a),(!a.length||a.length>2)&&t(a),f(a.length>2)}}),c.a.createElement("button",{className:E.a.Btn+(_?" "+E.a.Active:""),onClick:function(){return t("")}},c.a.createElement(u.a,{className:E.a.Icon,icon:"close"})))},U=t(40),j=function(e){var a=e.loading,t=e.users,r=e.searchData,l=Object(s.a)(e,["loading","users","searchData"]),m=r.term,f=r.count;return c.a.createElement("div",{className:i.a.Users,key:"Users"},c.a.createElement("div",{className:i.a.title},"Users"),c.a.createElement(O,{term:m,runSearch:function(a){e.history.push("/users?"+Object(U.a)({page:1,count:f,term:a}))}}),!e.users.length&&c.a.createElement("div",null,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),c.a.createElement(p.a,{loading:a}),c.a.createElement("ul",{className:i.a.list+(a?" "+i.a.loading:"")},t.map((function(e){return function(e){var a=e.myId,t=e.isAuth,n=e.followingInProgress,s=e.toggleFollow,r=e.user,l=r.id,m=r.name,f=r.followed,b=r.status,d=r.photos.small,h=!(l===a||!t);return c.a.createElement("li",{className:i.a.item,key:l},c.a.createElement("div",{className:i.a.avaWrapper},c.a.createElement(o.b,{to:"/profile/"+l,className:i.a.avaLink},c.a.createElement("img",{className:i.a.ava,src:d||_.a,alt:m})),h&&c.a.createElement("button",{className:i.a.btn+" "+(f?i.a.unfollow:i.a.follow),onClick:function(){return s(l,f)},disabled:n.some((function(e){return e===l}))},f?"Unfollow":"Follow")),c.a.createElement("div",{className:i.a.UserName},b&&c.a.createElement("div",{className:i.a.Status},c.a.createElement("span",null,b),c.a.createElement(u.a,{icon:"quotes",className:i.a.StatusIcon})),c.a.createElement("h3",null,m)))}(Object(n.a)({user:e},l))}))),e.users.length>0&&c.a.createElement(h,Object.assign({},r,{onClickHandler:function(a){e.history.push("/users?"+Object(U.a)({page:a,count:f,term:m}))}})))},N=t(14),S=t(13),k=t(73),w=t(80);a.default=Object(S.d)(Object(N.b)((function(e){return{loading:Object(w.c)(e),users:Object(w.e)(e),friends:Object(w.b)(e),searchData:Object(w.d)(e),followingInProgress:Object(w.a)(e),myId:e.authData.id,isAuth:e.authData.isAuth}}),{updateSearchData:k.d,toggleFollow:k.c,fetchUsers:k.b}))((function(e){var a=e.searchData,t=e.fetchUsers,c=e.updateSearchData,l=(e.setCurrentPage,e.location.search),i=Object(s.a)(e,["searchData","fetchUsers","updateSearchData","setCurrentPage","location"]),o=a.page,u=a.count,m=a.term;return Object(r.useEffect)((function(){var e=Number(new URLSearchParams(l).get("page"))||1,a=new URLSearchParams(l).get("term")||"";Number(e)!==o||a!==m?c({term:a,page:e}):t({page:o,count:u,term:m})}),[o,u,m,l,c,t]),j(Object(n.a)({searchData:Object(n.a)({},a)},i))}))}}]);
//# sourceMappingURL=6.901a42b3.chunk.js.map