(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[4],{227:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}a.d(t,"a",(function(){return n}))},229:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n),o=a(232),c=a.n(o),l=(a(110),function(e){var t=e.input.name,a=e.label,n=e.meta,o=n.touched,l=n.error,i=e.children,s=o&&l,m=c.a.Row+(s?" "+c.a.FieldError:"");return r.a.createElement("div",{className:m},a&&r.a.createElement("label",{htmlFor:t,className:c.a.Label},a),i,s&&r.a.createElement("span",{className:c.a.Error},"* ",l))}),i=function(e){return r.a.createElement(l,e,r.a.createElement("input",Object.assign({type:e.type},e.input,{className:c.a.Input,placeholder:e.placeholder})))},s=function(e){return r.a.createElement(l,e,r.a.createElement("textarea",Object.assign({},e.input,{className:c.a.Textarea,placeholder:e.placeholder})))},m=function(e){var t=e.input,a=e.type,n=e.label;return r.a.createElement("div",{className:c.a.Row},r.a.createElement("label",{className:c.a.CheckboxLabel},r.a.createElement("input",Object.assign({type:a},t,{className:c.a.Checkbox})),n))}},230:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return s}));var n,r=function(e){return e?void 0:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"},o=(n=50,function(e){return e&&e.length>n?"\u0414\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(n," \u0441\u0438\u043c\u0432\u043e\u043b\u0430"):void 0}),c=function(e){return function(t){return t&&t.length<e?"\u0414\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u0430"):void 0}},l=c(3),i=(c(6),function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"\u042d\u0442\u043e \u0442\u043e\u0447\u043d\u043e email?":void 0}),s=function(e){return e&&!/(?=^.{4,})(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/i.test(e)?"\u041b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b. \u041c\u0438\u043d\u0438\u043c\u0443\u043c 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":void 0}},232:function(e,t,a){e.exports={Row:"Form_Row__2oYlh",TextRight:"Form_TextRight__1aYek",Label:"Form_Label__1n8s5",Checkbox:"Form_Checkbox__2rzQp",CheckboxLabel:"Form_CheckboxLabel__2ReLz",Input:"Form_Input__D1cIa",Textarea:"Form_Textarea__1Yb_c",Button:"Form_Button__3k13j",Error:"Form_Error__2X0p1",ErrorIcon:"Form_ErrorIcon__1HaF4",FieldError:"Form_FieldError__3jp6W",Warning:"Form_Warning__SEdJh",FieldWarning:"Form_FieldWarning__2ltRJ",Hidden:"Form_Hidden__I3QSV"}},250:function(e,t,a){e.exports={wrapper:"ProfileInfo_wrapper__338Z9",user:"ProfileInfo_user__1HfPM",avaWrapper:"ProfileInfo_avaWrapper__3X_X-",ava:"ProfileInfo_ava__iZrAB",desc:"ProfileInfo_desc__3lf12",name:"ProfileInfo_name__BDBmC",data:"ProfileInfo_data__2qVet",Yes:"ProfileInfo_Yes__23L75",No:"ProfileInfo_No__1O-Fb",contacts:"ProfileInfo_contacts__3XFcv",contactsTitle:"ProfileInfo_contactsTitle__3h7oC"}},293:function(e,t,a){e.exports={posts:"MyPosts_posts__1P0sL",new:"MyPosts_new__1nTxl"}},294:function(e,t,a){e.exports={item:"Post_item__2yzXq",picWrapper:"Post_picWrapper__2KJ9x",pic:"Post_pic__XwlqK",ContentWrapper:"Post_ContentWrapper__3fEgv",title:"Post_title__1oTQp"}},295:function(e,t,a){e.exports=a.p+"static/media/empty-avatar.4b508f06.jpg"},296:function(e,t,a){e.exports={Status:"Status_Status__g0HTz",active:"Status_active__B2-6N",Text:"Status_Text__oAMO0",Pencil:"Status_Pencil__3XoF8",Form:"Status_Form__cRhXO",Input:"Status_Input__3P0Y7"}},297:function(e,t,a){e.exports={EditData:"EditData_EditData__228Gv",ShowIcon:"EditData_ShowIcon__2Jdan",CloseIcon:"EditData_CloseIcon__7UX2O",Collapse:"EditData_Collapse__3V37q",Collapsable:"EditData_Collapsable__3G67f",open:"EditData_open__2U7GN",CollapseIcon:"EditData_CollapseIcon__18Dk6",FormTitle:"EditData_FormTitle__1t4oI",Contacts:"EditData_Contacts__2wzb6"}},309:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a(13),l=a(81),i=Object(l.a)([function(e){return function(e){return e.profilePageData.profile}(e)},function(e){return function(e){return e.profilePageData.status}(e)},function(e){return function(e){return e.authData.id}(e)}],(function(e,t,a){return{profile:e,status:t,myId:a}})),s=Object(l.a)([function(e){return e.profilePageData.posts}],(function(e){return e})),m=a(62),u=a(293),p=a.n(u),f=a(294),_=a.n(f),d=a(110),b=a(111),E=a(22),v=a(230),N=a(229),h=Object(b.a)({form:"new-post-form",onSubmitSuccess:function(e,t){return t(Object(E.a)("new-post-form"))}})((function(e){var t=e.handleSubmit,a=e.invalid;return r.a.createElement("form",{onSubmit:t,className:"Form"},r.a.createElement(d.a,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",component:N.b,name:"title",validate:[v.e,v.b,v.c]}),r.a.createElement(d.a,{component:N.c,name:"content",validate:[v.e,v.c],label:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430"}),r.a.createElement("div",{className:"Form_Footer Form_Row Form_Row__TextRight"},r.a.createElement("button",{type:"submit",className:"Form_Button",disabled:a},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))})),g=Object(c.d)(Object(o.b)((function(e){return{posts:s(e)}}),{addPost:m.a}))((function(e){var t=e.posts,a=e.addPost;return r.a.createElement("div",{key:"MyPosts"},r.a.createElement("h3",null,"Add new post"),r.a.createElement("div",{className:p.a.new},r.a.createElement(h,{onSubmit:function(e){return a(e)}})),r.a.createElement("h3",null,"My Posts"),r.a.createElement("div",{className:p.a.posts},t.map((function(e){return function(e){var t=e.id,a=e.title,n=e.content,o=e.likesCount;return r.a.createElement("div",{className:_.a.item,key:t},r.a.createElement("div",{className:_.a.picWrapper},r.a.createElement("img",{className:_.a.pic,src:"https://i.pinimg.com/736x/62/8f/49/628f49798bba23a996bbb0fe8aad174e--avatar-james-cameron-avatar-fan-art.jpg",width:"100",alt:""}),r.a.createElement("span",null,o," likes")),r.a.createElement("div",{className:_.a.ContentWrapper},r.a.createElement("div",{className:_.a.title},a),r.a.createElement("div",{className:_.a.text},n)))}(e)}))))})),F=a(2),I=a(227),P=a(250),y=a.n(P),C=a(295),O=a.n(C),j=a(56),w=a(296),k=a.n(w),S=a(53),x=function(e){var t=e.myId,a=e.profileId,o=e.status,c=e.updateProfileStatus,l=Object(n.useState)(o),i=Object(j.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)(!1),p=Object(j.a)(u,2),f=p[0],_=p[1],d=Object(n.useState)(!1),b=Object(j.a)(d,2),E=b[0],v=b[1];Object(n.useEffect)((function(){m(o)}),[o]);var N=Number(t)===Number(a);return r.a.createElement("div",{className:k.a.Status+(f?" "+k.a.active:""),onClick:function(){N&&_(!0)},onMouseLeave:function(){N&&v(!1)},onMouseEnter:function(){N&&v(!0)}},E&&r.a.createElement(S.a,{icon:"pencil",className:k.a.Pencil}),f?r.a.createElement("div",{className:k.a.Form},r.a.createElement("input",{className:k.a.Input,type:"text",value:s,onChange:function(e){return m(e.target.value)},onBlur:function(){N&&(_(!1),s!==o&&c(s))},autoFocus:!0})):r.a.createElement("div",{className:k.a.Text},s))},D=function(e){var t=e.contacts,a=[];return Object.keys(t).forEach((function(e){if(t[e]){var n=function(e){var t=e.match(/(^https?)?(:?\/\/)?((?:[\w-]+)(?:\.[\w-]+)+)(?:[\w.,@?^=%&amp;:/~+#-]*[\w@?^=%&amp;/~+#-])?/);return{href:(void 0!==t[1]?t[1]:"https")+(void 0!==t[1]?t[2]:"://")+t[3],value:t[3]}}(t[e]),o=n.href,c=n.value;a.push(r.a.createElement("div",{key:e},r.a.createElement("b",null,e,": "),r.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},c)))}})),a.length?r.a.createElement("div",{className:y.a.contacts},r.a.createElement("div",{className:y.a.contactsTitle},"Contacts"),a):null},T=function(e){var t=e.myId,a=e.profileId,n=e.uploadProfilePhoto;return Number(t)===Number(a)&&r.a.createElement(R,{onSubmit:function(e){return n(e)}})},R=Object(b.a)({form:"upload-photo-form"})((function(e){var t=e.onSubmit;return r.a.createElement("form",{className:"Form"},r.a.createElement("span",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435"),r.a.createElement("input",{type:"file",name:"photo",accept:".jpg, .png, .jpeg",onChange:function(e){e.preventDefault();var a=new FormData;a.append("image",e.target.files[0]),t(a)}}))})),W=a(297),L=a.n(W),A=a(44),B=function(e){var t=e.myId,a=e.profile,o=e.profile.userId,c=e.updateProfileData;if(Number(t)!==Number(o))return null;var l=Object(n.useState)(!1),i=Object(j.a)(l,2),s=i[0],m=i[1],u=function(){m(!s)};return s?r.a.createElement("div",{className:L.a.EditData},r.a.createElement("span",{onClick:u},r.a.createElement(S.a,{icon:"close",className:L.a.CloseIcon})),r.a.createElement(J,{initialValues:a,profile:a,onSubmit:function(e){return function(e){c(e)}(e)},onClose:u})):r.a.createElement("span",{onClick:u},r.a.createElement(S.a,{icon:"pencil",className:L.a.ShowIcon}))},J=Object(b.a)({form:"update-profile-form"})((function(e){var t=e.handleSubmit,a=e.invalid,n=e.profile,o=e.onClose;if(!n)return Object(A.a)({loading:!0});var c=n.contacts;return r.a.createElement("form",{onSubmit:t,className:"Form"},r.a.createElement("h3",null,"\u041e\u0431\u043e \u043c\u043d\u0435"),r.a.createElement(d.a,{label:"\u0418\u043c\u044f",component:N.b,name:"fullName",validate:[v.e,v.c,v.b]}),r.a.createElement(d.a,{component:N.c,name:"aboutMe",validate:[v.e,v.c],label:"\u0422\u0435\u043a\u0441\u0442 \u043e\u0431\u043e \u043c\u043d\u0435"}),r.a.createElement("div",{className:L.a.Collapse+" "+L.a.Contacts},r.a.createElement("h3",{className:L.a.FormTitle,onClick:function(e){return e.currentTarget.classList.toggle(L.a.open)}},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",r.a.createElement(S.a,{className:L.a.CollapseIcon,icon:"arrow-right"})),r.a.createElement("div",{className:L.a.Collapsable},Object.keys(c).map((function(e){return r.a.createElement(d.a,{key:e,component:N.b,name:"contacts."+e,validate:[v.c],label:e})})))),r.a.createElement("div",{className:L.a.Collapse},r.a.createElement("h3",{className:L.a.FormTitle,onClick:function(e){return e.currentTarget.classList.toggle(L.a.open)}},"\u0420\u0430\u0431\u043e\u0442\u0430",r.a.createElement(S.a,{className:L.a.CollapseIcon,icon:"arrow-right"})),r.a.createElement("div",{className:L.a.Collapsable},r.a.createElement(d.a,{type:"checkbox",component:N.a,name:"lookingForAJob",label:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),r.a.createElement(d.a,{component:N.c,name:"lookingForAJobDescription",validate:[v.e,v.c],label:"\u0422\u0435\u043a\u0441\u0442 \u043e \u0440\u0430\u0431\u043e\u0442\u0435"}))),e.error&&e.error.message&&r.a.createElement("div",{className:"Form_Row"},r.a.createElement("p",{className:"Form_Error"},e.error.message,r.a.createElement(S.a,{icon:"alert",className:"Form_ErrorIcon"}))),r.a.createElement("div",{className:"Form_Row Form_Row__TextRight Form_Footer"},r.a.createElement("button",{type:"button",className:"Form_Button Form_Button__warning",onClick:o},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"submit",className:"Form_Button",disabled:a},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))})),M=a(17),X=Object(c.d)(M.f,Object(o.b)((function(e){return i(e)}),{getProfile:m.c,updateProfileStatus:m.e,uploadProfilePhoto:m.f,updateProfileData:m.d}))((function(e){var t=e.match.params.userId,a=e.myId,o=e.getProfile,c=e.history,l=Object(I.a)(e,["match","myId","getProfile","history"]);return Object(n.useEffect)((function(){var e=Number(t||a);e?o(e):c.push("/login")}),[t,a,o,c]),e.profile?function(e){var t=e.myId,a=e.status,n=e.updateProfileStatus,o=e.uploadProfilePhoto,c=e.updateProfileData,l=e.profile,i=l.userId,s=l.fullName,m=l.aboutMe,u=l.contacts,p=l.lookingForAJob,f=l.lookingForAJobDescription,_=l.photos.large;return r.a.createElement("div",{className:y.a.wrapper,key:"ProfileInfo"},r.a.createElement("div",{className:y.a.user},r.a.createElement(x,{myId:t,profileId:i,status:a,updateProfileStatus:n}),r.a.createElement("div",{className:y.a.avaWrapper},r.a.createElement("img",{className:y.a.ava,src:_||O.a,alt:""}),r.a.createElement(T,{myId:t,profileId:i,uploadProfilePhoto:o})),r.a.createElement("div",{className:y.a.desc},r.a.createElement(B,{myId:t,profile:l,updateProfileData:c}),r.a.createElement("div",{className:y.a.name},s),r.a.createElement("div",{className:y.a.data},r.a.createElement("b",null,"About"),": ",m),r.a.createElement("div",{className:y.a.data},r.a.createElement("b",null,"Looking for a Job"),": ",p?r.a.createElement("span",{className:y.a.Yes},"Yes"):r.a.createElement("span",{className:y.a.No},"No"),p&&f&&r.a.createElement("p",null,f)),r.a.createElement(D,{contacts:u}))))}(Object(F.a)({myId:a},l)):Object(A.a)({loading:!0})}));t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement(g,null))}}}]);
//# sourceMappingURL=4.84124692.chunk.js.map