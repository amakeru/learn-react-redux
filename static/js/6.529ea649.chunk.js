(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[6],{227:function(e,a,t){"use strict";function n(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}t.d(a,"a",(function(){return n}))},251:function(e,a,t){e.exports={Users:"Users_Users__1nJFP",loading:"Users_loading__2jE4P",title:"Users_title__1fwbq",NotFound:"Users_NotFound__2JVWH",NotFoundIcon:"Users_NotFoundIcon__2Uxzk",list:"Users_list__21Nyk",item:"Users_item__1ziiC",UserName:"Users_UserName__323M6",Status:"Users_Status__1c1pR",StatusIcon:"Users_StatusIcon__hSbYX",avaWrapper:"Users_avaWrapper__3L1JO",ava:"Users_ava__2c-Fm",avaLink:"Users_avaLink__291Xd",btn:"Users_btn__25K-5",follow:"Users_follow__2Mctc",unfollow:"Users_unfollow__2cRjK",hidden:"Users_hidden__21K5A",location:"Users_location__1oCXG"}},298:function(e,a,t){e.exports={Pagination:"Pagination_Pagination__8CEbk",Item:"Pagination_Item__2zlkl",Active:"Pagination_Active__1oeYC",Disabled:"Pagination_Disabled__1BEPN",Dots:"Pagination_Dots__j94gB"}},299:function(e,a,t){e.exports={Search:"Search_Search__20Gul",Field:"Search_Field__kwz8q",Active:"Search_Active__3jbr4",Btn:"Search_Btn__5ptno",Icon:"Search_Icon__2mYzI",IconSearch:"Search_IconSearch__19uwp"}},310:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t(227),s=t(0),c=t.n(s),o=t(251),l=t.n(o),i=t(11),u=t(53),m=t(79),_=t.n(m),d=t(4),h=t(298),f=t.n(h),b=function(e){for(var a,t=e.page,n=e.total,r=e.onClickHandler,s=Math.ceil(n/d.c),o=t-2,l=t+2+1,i=[],u=[],m=1;m<=s;m+=1)if(1===m||m===s||m>=o&&m<=l)i.push(m);else if(m<o)m=o-1;else if(m>l){i.push(s);break}return i.forEach((function(e){a&&(e-a===2?u.push(a+1):e-a!==1&&u.push("...")),u.push(e),a=e})),c.a.createElement("div",{className:f.a.Pagination},c.a.createElement("button",{key:"prev",className:1===t?f.a.Item+" "+f.a.Disabled:f.a.Item,disabled:1===t?"disabled":"",onClick:function(){return r(t-1)}},"<"),u.map((function(e,a){return isNaN(e)?c.a.createElement("div",{key:e+a,className:f.a.Dots},"..."):c.a.createElement("button",{key:e+a,className:e===t?f.a.Item+" "+f.a.Active:f.a.Item,disabled:e===t?"disabled":"",onClick:function(){return r(e)}},e)})),c.a.createElement("button",{key:"next",className:t===s?f.a.Item+" "+f.a.Disabled:f.a.Item,disabled:t===s?"disabled":"",onClick:function(){return r(t+1)}},">"))},p=t(44),g=t(56),N=t(299),v=t.n(N),E=function(e){var a=e.term,t=e.runSearch,n=Object(s.useState)(a),r=Object(g.a)(n,2),o=r[0],l=r[1],i=Object(s.useState)(""!==a),m=Object(g.a)(i,2),_=m[0],d=m[1];Object(s.useEffect)((function(){l(a),d(""!==a)}),[a]);return c.a.createElement("div",{className:v.a.Search},c.a.createElement("input",{type:"text",className:v.a.Field+(_?" "+v.a.Active:""),value:o,onChange:function(e){var a=e.target.value;l(a),(!a.length||a.length>2)&&t(a),d(a.length>2)}}),_?c.a.createElement("button",{className:v.a.Btn,onClick:function(){return t("")}},c.a.createElement(u.a,{className:v.a.Icon+" "+v.a.IconClose,icon:"close"})):c.a.createElement("button",{className:v.a.Btn},c.a.createElement(u.a,{className:v.a.Icon+" "+v.a.IconSearch,icon:"search"})))},S=function(e){var a=e.loading,t=e.users,s=e.searchData,o=e.setPage,m=e.runSearch,d=Object(r.a)(e,["loading","users","searchData","setPage","runSearch"]);return c.a.createElement("div",{className:l.a.Users,key:"Users"},c.a.createElement("div",{className:l.a.title},"Users"),c.a.createElement(E,{term:s.term,runSearch:m}),!t.length&&""!==s.term&&c.a.createElement("div",{className:l.a.NotFound},c.a.createElement(u.a,{icon:"alert",className:l.a.NotFoundIcon}),"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),c.a.createElement(p.a,{loading:a}),c.a.createElement("ul",{className:l.a.list+(a?" "+l.a.loading:"")},t.map((function(e){return function(e){var a=e.myId,t=e.isAuth,n=e.followingInProgress,r=e.toggleFollow,s=e.user,o=s.id,m=s.name,d=s.followed,h=s.status,f=s.photos.small,b=!(o===a||!t);return c.a.createElement("li",{className:l.a.item,key:o},c.a.createElement("div",{className:l.a.avaWrapper},c.a.createElement(i.b,{to:"/profile/"+o,className:l.a.avaLink},c.a.createElement("img",{className:l.a.ava,src:f||_.a,alt:m})),b&&c.a.createElement("button",{className:l.a.btn+" "+(d?l.a.unfollow:l.a.follow),onClick:function(){return r(o,d)},disabled:n.some((function(e){return e===o}))},d?"Unfollow":"Follow")),c.a.createElement("div",{className:l.a.UserName},h&&c.a.createElement("div",{className:l.a.Status},c.a.createElement("span",null,h),c.a.createElement(u.a,{icon:"quotes",className:l.a.StatusIcon})),c.a.createElement("h3",null,m)))}(Object(n.a)({user:e},d))}))),t.length>0&&c.a.createElement(b,{page:s.page,total:s.total,onClickHandler:o}))},U=t(14),I=t(13),O=t(73),j=t(80),k=t(40);a.default=Object(I.d)(Object(U.b)((function(e){return{loading:Object(j.c)(e),users:Object(j.e)(e),friends:Object(j.b)(e),searchData:Object(j.d)(e),followingInProgress:Object(j.a)(e),myId:e.authData.id,isAuth:e.authData.isAuth}}),{updateSearchData:O.d,toggleFollow:O.c,fetchUsers:O.b}))((function(e){var a=e.searchData,t=e.fetchUsers,c=e.updateSearchData,o=e.location.search,l=Object(r.a)(e,["searchData","fetchUsers","updateSearchData","location"]),i=a.page,u=a.count,m=a.term;Object(s.useEffect)((function(){var e=Number(new URLSearchParams(o).get("page"))||1,a=new URLSearchParams(o).get("term")||"";Number(e)!==i||a!==m?c({term:a,page:e}):t({page:i,count:u,term:m})}),[i,u,m,o,c,t]);return S(Object(n.a)({searchData:a,setPage:function(a){e.history.push("/users?"+Object(k.a)({page:a,count:u,term:m}))},runSearch:function(a){e.history.push("/users?"+Object(k.a)({page:1,count:u,term:a}))}},l))}))}}]);
//# sourceMappingURL=6.529ea649.chunk.js.map